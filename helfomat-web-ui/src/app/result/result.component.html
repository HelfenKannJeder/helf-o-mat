<div class="custom-content">
    <helfomat-map
        [organisations]="organisations"
        [clusteredOrganisations]="clusteredOrganisations"
        [position]="position"
        [distance]="distance"
        [center]="center"
        [zoom]="zoom"
        [mapSize]="mapSize | async"
        [showDefaultAddressBar]="hasPosition"
        (updatePosition)="_position$.next($event)"
        (updateBoundingBox)="_boundingBox$.next($event)"
        (updateZoom)="_zoom$.next($event)"
        (openOrganisation)="openOrganisation($event)"
        (mapResize)="continueWithoutLocation($event)">
        <div class="addressSearchContainer row" *ngIf="!hasPosition">
            <div class="col-lg-4">
                <div class="card card-default">
                    <div class="card-header card-default">
                        {{ 'location.headline' | translate }}
                    </div>
                    <div class="card-body">
                        <p>{{ 'location.contentStart' | translate }}</p>
                        <p>
                            <input
                                class="addressInput form-control"
                                type="text"
                                tabindex="1"
                                placeholder="{{ 'map.address' | translate }}"/>
                        </p>
                        <p>{{ 'location.contentEnd1' | translate }}<a
                            (click)="continueWithoutLocation()">{{
                            'location.contentEnd2Link' | translate }}</a>{{
                            'location.contentEnd3' | translate }}</p>
                        <p><a
                            (click)="continueWithoutLocation()" (keyup.enter)="continueWithoutLocation()"
                            tabindex="2" class="btn btn-sm btn-secondary">{{
                            'location.buttonContinueWithoutAddress' | translate}}</a></p>
                    </div>
                </div>
            </div>
        </div>
    </helfomat-map>
</div>

<div class="slide">
    <div class="slide-holder" [@slide]="visibleComponent">
        <div class="row">
            <div class="col-6">
                <div class="d-md-none clearfix">
                    <button class="btn btn-secondary float-right" (click)="visibleComponent = 'list'">
                        {{'result.mobile.swipe.list' | translate}}
                    </button>
                </div>
                <div class="card">
                    <div class="card-header">{{ 'result.header.questions' | translate }}</div>
                </div>
                <br class="clearfix"/>
                <app-question-overview
                    [currentAnswers]="answers"
                    (questionUserAnswers)="updateOrganisations($event)"
                    (newAnswers)="_newAnswers$.next($event)"></app-question-overview>
            </div>
            <div class="col-6">
                <button class="btn btn-secondary d-md-none" (click)="visibleComponent = 'question'">
                    {{'result.mobile.swipe.questions' | translate}}
                </button>
                <div class="card">
                    <div class="card-header">{{ 'result.header.list' | translate }}</div>
                </div>
                <br class="clearfix"/>
                <helfomat-list
                    [organisations]="organisations"
                    (openOrganisation)="openOrganisation($event)"
                    (openOrganisationScoreExplanation)="openOrganisation($event, true)"></helfomat-list>
            </div>
        </div>
    </div>
</div>
